2001-11-15  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.12 released.

2001-11-14  Russ Allbery  <rra@stanford.edu>

	* Makefile.PL: Require at least version 0.8 of File::Spec.

	* lib/Pod/Man.pm: Use L<> for all man page references in the
	documentation that should be highlighted.  Switch the rest to bold
	versions of the program name.  Change func(n) to func(3) in the
	example of things that are automatically formatted so that it will
	be formatted.  Remove from BUGS the note that some of the path
	mangling assumes Unix directory separators.  Don't give anchor
	text for L<> links that no longer require it.
	* lib/Pod/Text.pm: Update the documentation to use now-allowable
	POD constructs like C<< >>.  Don't escape angle brackets that
	don't require escaping.  Don't give anchor text for L<> links that
	no longer require it.
	* lib/Pod/Text/Color.pm: Likewise.
	* lib/Pod/Text/Overstrike.pm: Likewise.
	* lib/Pod/Text/Termcap.pm: Likewise.

	* lib/Pod/Text.pm (interior_sequence): Inside S<>, convert all
	whitespace to non-breaking spaces, not just spaces.

	* lib/Pod/Man.pm (guesswork): Rewrite the handling of dashes and
	hyphens.  Be much more conservative about which hyphens are turned
	into dashes, and make all hyphens non-breaking unless we can be
	fairly sure that they're inside normal words.

	* lib/Pod/Man.pm (textblock): Remove the special handling of
	consecutive L</section> links.
	(sequence): Defer expansion of formatting escapes inside L<> until
	L<> is processed.  Use Pod::ParseLink to parse the link text and
	determine the text used.  Expand formatting escapes in the link
	text after the final text is determined.  Surround URLs with angle
	brackets in the output.
	(buildlink): Deleted.
	(collapse): Only escape backslashes for C<> codes.
	* lib/Pod/Text.pm (textblock): Remove the special handling of
	consecutive L</section> links.
	(interior_sequence): Defer expansion of formatting escapes inside
	L<> until L<> is processed.  Pass the Pod::InteriorSequence object
	to seq_l.
	(seq_l): Use Pod::ParseLink to parse the link text and determine
	the text used.  Expand formatting escapes in the link text after
	the final text is determined.  Surround URLs with angle brackets
	in the output.
	* lib/Pod/ParseLink.pm: New file.

	* lib/Pod/Man.pm (initialize): Initialize NEWINDENT.
	(textblock): Handle indentation of =item-less =over/=back blocks
	if NEWINDENT is set.
	(cmd_over): Set NEWINDENT.
	(cmd_back): Clear NEWINDENT.
	(cmd_item): Likewise.

	* lib/Pod/Man.pm (begin_pod): Include the version of Pod::Parser
	in the header.

	* lib/Pod/Man.pm: Support E<apos>, E<nbsp>, and E<shy>.
	* lib/Pod/Text.pm: Support E<apos> and E<nbsp> and treat E<shy> as
	an empty string.

2001-11-13  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (begin_pod): Completely rewrite the name parsing
	code for modules to use File::Spec.  In the process, fix a bug in
	dealing with the new three-component version number directories.
	Swap the order of date and release in the .TH line to better
	comply with the man macro documentation.

2001-11-04  Russ Allbery  <rra@stanford.edu>

	* scripts/pod2man.PL: Add the --name option and documentation.
	* lib/Pod/Man.pm: Add documentation for the name option, which was
	already implemented.
	(begin_pod): Only try to determine a module name from the path for
	the man page name if the man page we're generating is in section
	3.  No longer insert a timestamp into the generated man page; it
	just causes unnecessary differences and merge conflicts.

2001-10-20  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.11 released.

	* scripts/pod2man.PL: Add --verbose to print out each output file
	as it is generated.  Silence -w warnings about the magic to exec
	Perl if run under a shell.
	* scripts/pod2text.PL: Silence -w warnings likewise.

	* lib/Pod/Text/Overstrike.pm (wrap): Better handle the case where
	a highlighted portion of text ends a line.

	* lib/Pod/Text.pm: Add the code option to include the non-POD text
	of the input file and document it.
	(initialize): Pass -want_nonPODs to Pod::Parser	if code is set.
	(preprocess_paragraph): Call output_code for any paragraphs
	received that aren't part of the POD.
	(output_code): New function.
	* lib/Pod/Text/Color.pm (output_code): New function.
	* lib/Pod/Text/Overstrike.pm (output_code): New function.
	* lib/Pod/Text/Termcap.pm (output_code): New function.
	* scripts/pod2text.PL: Add support and documentation for --code.

	* lib/Pod/Man.pm (outindex): No output was being emitted for X<>
	sequences due to a misplaced my.
	(switchquotes): Must use .ie for if statements containing a .el
	clause in *roff; .if won't work.

2001-07-19  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (sequence): Turned carps for unknown escapes and
	unknown sequences into warnings, suppressed the Perl file and line
	number, and added the file and line number for the POD data.
	(cmd_back): Likewise for unmatched =back errors.
	* lib/Pod/Text.pm (interior_sequence): Likewise for unknown
	escapes and unknown sequences.
	(cmd_back): Likewise for unmatched =back errors.

2001-07-10  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.10 released.

	* scripts/pod2man.PL: Added a description of the COPYRIGHT AND
	LICENSE section, add a mention of a mailing list in SEE ALSO, and
	mention that large logs are better kept separate from HISTORY in
	the description of a standard manual page.  Added a COPYRIGHT AND
	LICENSE section for pod2man.
	* scripts/pod2text.PL: Added a COPYRIGHT AND LICENSE section to
	the documentation.

	* lib/Pod/Man.pm: Changed LICENSE to COPYRIGHT AND LICENSE.
	* lib/Pod/Text.pm: Likewise.

	* lib/Pod/Text/Color.pm: Added a COPYRIGHT AND LICENSE section to
	the documentation.
	* lib/Pod/Text/Overstrike.pm: Likewise.
	* lib/Pod/Text/Termcap.pm: Likewise.

	* lib/Pod/Text.pm (seq_c): Add heuristics to decide whether or not
	to quote the argument of C<>.

	* lib/Pod/Man.pm (switchquotes): Remove font changes for nroff to
	work around a bug in the Solaris 2.6 version of nroff's handling
	of \fP in headings.  No longer add an extra level of quoting for
	=item; it isn't necessary.

	* lib/Pod/Man.pm (sequence): Call quote_literal to handle C<>.
	(quote_literal): New function, handling the decision of whether or
	not to put quotes around the argument of C<>.

	* lib/Pod/Man.pm: Added a LICENSE section to the documentation.
	* lib/Pod/Text.pm: Likewise.

	* lib/Pod/Man.pm (guesswork): Remove the logic turning PI into a
	pretty pi character; it produces too many false positives.

	* lib/Pod/Man.pm: Removed the definition .Ip from the preamble.
	Removed .bd B 3 from the preamble; this isn't part of the accent
	mark definitions but instead changes the way bolding is done,
	confusing some other translators.
	(cmd_item): Emit .IP instead of .Ip.

2001-04-09  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.09 released.

	* lib/Pod/Man.pm (guesswork): Fine-tune.  Don't allow colons after
	sequences to put in small caps since they're already handled by
	being rolled into the sequence and were causing weird things to
	happen in references to functions.  Allow small caps before an
	open paren.  Teach the handling of functions and manual page
	references about small caps escapes, and be pickier about what
	constitutes a manual page reference.

	* lib/Pod/Text.pm: Fix again the incorrect mappings for E<Iacute>
	and E<iacute>, and this time for E<Igrave> and E<igrave> too.
	Reported by Sean Burke.

2001-02-09  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.08 released.

	* lib/Pod/Text.pm (seq_l): Output anything that looks like a URL
	verbatim rather than interpreting it as a manual page reference.
	* lib/Pod/Man.pm (buildlink): Likewise.

2001-01-16  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.07 released.

	* lib/Pod/Man.pm (begin_pod): Quote the file name if it contains
	spaces.
	(cmd_head1): Remove newlines.
	(cmd_head2): Likewise.
	(cmd_head3): Likewise.
	(cmd_head4): Likewise.

2000-12-25  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.06 released.

	* scripts/pod2text.PL: Add -o or --overstrike to use
	Pod::Text::Overstrike as the formatter.

	* lib/Pod/Man.pm (switchquotes): =item text requires another level
	of quoting of double quotes, which was already present but not
	working for C<> text because it was in the wrong order.  Fixed and
	more comments added.

	* lib/Pod/Text/Color.pm: Use a static version number rather than
	the CVS revision.
	* lib/Pod/Text/Termcap.pm: Likewise.

	* lib/Pod/Text/Overstrike.pm: New file.  Contributed by Joe Smith
	<Joe.Smith@inwap.com>.

2000-11-18  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.05 released.

	* scripts/pod2man.PL: Allow pod2man to take multiple pairs of
	input and output files on the command line to decrease the time
	that it takes to process all of Perl's documentation.

	* lib/Pod/Man.pm (textmapfonts): New function, like mapfonts but
	without the last change to work around a Solaris 2.6 nroff bug.
	(textblock): Use textmapfonts instead of mapfonts.
	(cmd_head4): Likewise.
	(cmd_item): Likewise.

	* lib/Pod/Man.pm (switchquotes): Turned into a method rather than
	a static function.  Switch \*C` and \*C' sequences from C<> as
	well as literal double-quotes if the quote character contains
	double quotes.  Not doing this was causing weird output on some
	systems in some circumstances.
	(cmd_head1): Call of switchquotes changed.
	(cmd_head2): Likewise.
	(cmd_item): Likewise.

	* lib/Pod/Man.pm (mapfonts): Use \fP to switch back to the default
	font rather than changing back to \fR so that font changes work
	correctly in headings using a different font.  Sprinkle \fP
	through all font changes so that the default font is always the
	"previous" font so that the above works.

	* lib/Pod/Man.pm (cmd_head3): New function.
	(cmd_head4): New function.
	* lib/Pod/Text.pm: (cmd_head3): New function.
	(cmd_head4): New function.

	* lib/Pod/Text.pm (initialize): Change the default quote character
	for C<> to be double quotes rather than matched left/right single
	quotes.

2000-10-09  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.04 released.

	* lib/Pod/Man.pm: Output .PD 0 and .PD around repeated =item tags
	so that they're formatted without intervening blank lines,
	improving formatting of e.g. perlfunc.pod.
	(initialize): Initialize ITEMS to 0.
	(verbatim): Call makespace unconditionally.
	(textblock): Likewise.
	(cmd_head1): Output .PD and reset ITEMS if ITEMS > 1.
	(cmd_head2): Likewise.
	(cmd_item): Count the number of consecutive =item commands and
	output .PD 0 before the second.
	(makespace): Handle the check for NEEDSPACE here rather than in
	the caller and output .PD and reset ITEMS if ITEMS > 1.

	* lib/Pod/Text.pm: Fix incorrect mappings for E<Iacute> and
	E<iacute>, reported by Sean Burke.

2000-10-08  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (initialize): Change the default quote character
	for C<> to be double quotes rather than matched left/right single
	quotes.

	* lib/Pod/Text.pm (command): Fixed a shadowed variable warning.
	* lib/Pod/Man.pm (command): Likewise.

2000-09-03  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.03 released.

	* scripts/pod2man.PL: Added a new --quotes option.
	* scripts/pod2text.PL: Likewise.

	* lib/Pod/Man.pm: Changed the preamble to allow configurable quote
	characters around C<> text.
	(initialize): Parse the new quotes option to set the configurable
	quote characters.
	(begin_pod): Substitute the quote characters into the preamble.
	Make a new copy of the preamble for each file so that the
	fixed-width font and the quote characters may change between
	different Pod::Man objects and different files.

	* lib/Pod/Text.pm (initialize): Added support for a quotes option
	to specify what quotes to use around C<> text.
	(seq_c): Use the configurable quote characters.

	* lib/Pod/Text.pm (command): Check using can() before calling cmd_
	handlers and report a nice error when encountering an unknown
	paragraph command.
	* lib/Pod/Man.pm (command): Likewise.

2000-09-02  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Text.pm: Add sol and verbar to the escapes.
	* lib/Pod/Man.pm: Likewise.

	* lib/Pod/Text.pm (pod2text): When given two arguments, was
	incorrectly assigning to $_[0], causing other strange problems.

	* lib/Pod/Man.pm (cmd_item): Fix the regex for stripping bullets
	from index entries so that it doesn't strip a leading 'o'.

2000-04-30  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm: In the prelude, terminate the .IX definition
	with .. instead of ".    ." for groff.

2000-04-25  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.02 released.

	* lib/Pod/Man.pm (sequence): Pass a special flag to collapse() for
	C<> blocks rather than trying to fix up hyphens and underscores.
	(collapse): Fix hyphens and underscores for literal C<> block
	content.

2000-04-09  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (sequence): Fix hyphens and underscores in only
	those children of a C<> sequence that haven't already had
	guesswork applied to them.

2000-03-30  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.01 released.

	* Makefile.PL: Install the modules in the Perl core area if the
	Perl version is 5.6.0 or higher.

2000-03-18  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (begin_pod): Strip a leading lib/ from a file
	name for module man pages, needed for ExtUtils::MakeMaker.

2000-03-16  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 1.00 released.

	* Makefile.PL: pod2roff renamed to pod2man.

	* lib/Pod/Text.pm: Use a static version number, add the remaining
	ISO 8859-1 HTML entities (from Tim Jenness).

	* lib/Pod/Man.pm (protect): Be even more aggressive; protect any
	line starting with a backslash.
	(cmd_item): Replace embedded newlines in titles with spaces.

	* scripts/pod2man.PL: Hide '-' arguments from Getopt::Long so that
	Pod::Parser will interpret them as STDIN or STDOUT.  Remove
	needless use vars.
	* scripts/pod2text.PL: Likewise.

	* scripts/pod2text.PL: Don't default to Pod::Text::Termcap even if
	STDOUT is a tty until it works right on Windows, VMS, etc.

	* scripts/pod2man.PL: Change Getopt::Long config from bundling to
	bundling_override so that options like -center work for backwards
	compatibility.

2000-03-07  Russ Allbery  <rra@stanford.edu>

	* scripts/pod2man.PL: Change pod2txt to pod2man in SYNOPSIS.

2000-03-06  Russ Allbery  <rra@stanford.edu>

	* scripts/pod2man.PL: Renamed from pod2roff.PL as this has been
	incorporated in Perl core.  Updated self-references in the
	documentation, changed "stati" to "statuses."

	* lib/Pod/Man.pm: Set version number to 1.00, change references to
	pod2roff to pod2man in the documentation, and remove the note about
	this module replacing pod2man in Perl core.

	* lib/Pod/Man.pm (initialize): Use "perl v5.6.0" instead of "perl
	5.6, patch 0" for the default release string, handle both pre-5.6
	and post-5.6 version numbering schemes.
	(protect): Allow for two-character fonts.
	(begin_pod): Zero-pad the month and day in the modification date.
	(sequence): Add a temporary variable for L<> text rather than
	blessing the sub return to work around a 5.6 bug.
	(guesswork): $3 no longer used in small-caps regex, remove to
	avoid warnings under -w.

2000-03-05  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (protect): Protect leading periods following font
	escapes as well.
	(initialize): Avoid warnings when center, date, or release aren't
	set.
	(begin_pod): Make filename munging safe even when $* is set and
	the filenames contain embedded newlines.
	(textblock): Use a temporary variable for paragraph text, fix the
	regex to concatenate multiple L<> section links and fix whitespace
	handling for it around "and".
	(sequence): Add a temporary variable workaround so that Z<> works
	correctly with current Perl.
	(cmd_for): Don't extract the line number when we don't use it.

1999-10-07  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 0.08 released.

	* lib/Pod/Text.pm: Export pod2text() for backwards compatibility.

	* lib/Pod/Text.pm (interior_sequence): Add support for numeric E<>
	escapes.
	* lib/Pod/Man.pm (sequence): Likewise.

1999-09-27  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Man.pm (buildlink): Links to sections had doubled quote
	marks.

	* scripts/pod2roff.PL: Pod::Parser constructors take an expanded
	hash, not a hash ref.

1999-09-25  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 0.07 released.

	* lib/Pod/Man.pm: Changed the parsing model so that rather than
	deferring E<> escapes until just before output, *roff output is
	generated by the interior sequence parsing and the result is
	passed up the parse trees as Pod::Man::String objects instead of
	scalars to mark the output as already processed.  In the process,
	cleaned up what *roff escaping and guesswork is applied where and
	cleaned up the whole process of applying guesswork.  Also improved
	the small caps guesswork to allow for more cases, including
	several adjacent all caps words, and fixed some bugs with the link
	text generation for man page references.  Improved the escaping of
	dashes and hyphens to use a single pass, improved the index
	generation slightly, and fixed a few places that were clobbering
	the caller's $_.

1999-09-20  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 0.06 released.

	* scripts/pod2roff.PL: Expanded the man page documentation to take
	into account suggestions from Larry Virden.  Added examples for
	ENVIRONMENT, more examples for OPTIONS, better examples for
	subsections in DESCRIPTION, more details on ERRORS, a plea for a
	method of fixing problems in DIAGNOSTICS as well as what the
	message means, a plea for an explanation of examples in EXAMPLES,
	a plea for documenting files that are modified in FILES, a mention
	of a program web site in SEE ALSO, a mention of e-mail addresses
	in AUTHORS, the AVAILABILITY section, and a note about markup
	including L<> issues with e-mail addresses and URLs.

	* lib/Pod/Man.pm: Added a BUGS entry for index entries for stuff
	in NAME.

	* lib/Pod/Text.pm: =begin text blocks are now output verbatim
	rather than interpreted as POD.  Documented the oddity with
	Ctrl-As as a restriction.

	* Makefile.PL: pod2txt renamed to pod2text.

	* scripts/pod2roff.PL: Exit on Getopt::Long errors.

	* scripts/pod2text.PL: Renamed to pod2text and updated for the
	renaming of Pod::PlainText to Pod::Text.  Added an explicit check
	for Term::ANSIColor if -c was given.  Added documentation of -h,
	expanded the DIAGNOSTICS section to include directly generated
	error messages and the most common Getopt::Long message.

	* lib/Pod/Text/Termcap.pm: Updated for the renaming of
	Pod::PlainText to Pod::Text.

	* lib/Pod/Text/Color.pm: Updated for the renaming of
	Pod::PlainText to Pod::Text, added BUGS note that the
	implementation is rather incomplete and a note in DESCRIPTION that
	it relies on Term::ANSIColor.

	* lib/Pod/Text.pm: Renamed to Pod::Text, various comment cleanups,
	always treat =for paragraphs as verbatim text, cleaned up the
	documentation a little, and added two more diagnostics and a
	cross-reference to pod2text(1).  Bumped revision to 2.0 to be
	larger than the old Pod::Text.

	* lib/Pod/Man.pm: Renamed to Pod::Man from Pod::Roff, since there
	is no standard Pod::Man module to worry about conflicting with.

	* scripts/pod2roff.PL: Cut down on some information redundant with
	Pod::Man's documentation, changed for the renaming of Pod::Roff to
	Pod::Man, and added a BUGS section noting a few currently unfixed
	problems.

	* lib/Pod/Roff.pm: Inherit from Pod::Parser instead of
	Pod::Select, get the date from our input file by default, be even
	more conservative about small caps but put AT&T in small caps, and
	added documentation.

	* Makefile.PL: Add pod2roff to the scripts, improve handling of
	scripts a little.

1999-09-19  Russ Allbery  <rra@stanford.edu>

	* lib/Pod/Roff.pm: New file.
	scripts/pod2roff.PL: New file.

1999-09-18  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 0.05 released.

	* lib/Pod/Text/Color.pm: Pod::SimpleText changed to Pod::PlainText
	in one final spot in the documentation.

1999-08-30  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 0.04 released.

	* Makefile.PL: Use File::Spec to build file paths for portability,
	removed the dist setting since current Perls get this right, and
	added the magic to cope with pod2txt as a .PL file.

	* scripts/pod2txt.PL: Added the .PL magic to fix the shebang line
	that will be necessary when this script is part of Perl core.

	* VERSION: podlators 0.03 released.

	* lib/Pod/Text/Color.pm: Pod::SimpleText changed to Pod::PlainText
	everywhere.
	lib/Pod/Text/Termcap.pm: Likewise.

	* scripts/pod2txt: Pod::SimpleText changed to Pod::PlainText
	everywhere, added documentation that Pod::Text::Termcap is used by
	default if STDOUT is a tty, and clarified the documentation of
	--loose.

1999-07-29  Russ Allbery  <rra@stanford.edu>

	* VERSION: podlators 0.02 released.

	* lib/Pod/PlainText.pm: Added a pod2text() function for backwards
	compatibility.

	* lib/Pod/Text/Termcap.pm: Switch from using Pod::SimpleText to
	using Pod::PlainText.
	lib/Pod/Text/Color.pm: Likewise.

	* lib/Pod/PlainText.pm: Properly wrap multi-line =item tags.

	* Makefile.PL: Changed the name of the package to podlators.

	* lib/Pod/PlainText.pm: Fixed a spurious space with =for text
	commands, check the content of sequences against '' specifically
	rather than testing truth so that it does the right thing with 0,
	process sequences for =head headings, and changed the name from
	SimpleText to PlainText.  Also speeded up some sequences slightly.

1999-06-12  Russ Allbery  <rra@stanford.edu>

	* VERSION: Pod::SimpleText 0.01 released.

	* lib/Pod/SimpleText.pm: Minor documentation fixes.

	* scripts/pod2txt: New file.

	* lib/Pod/SimpleText.pm: New file.
	lib/Pod/Text/Color.pm: New file.
	lib/Pod/Text/Termcap.pm: New file.
